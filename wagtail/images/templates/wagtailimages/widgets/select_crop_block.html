{# HT START #}
{% load static %}
{% block extra_css %}
    Focal point chooser 
    <link rel="stylesheet" href="{% static 'wagtailimages/css/vendor/jquery.Jcrop.min.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static 'wagtailimages/css/focal-point-chooser.css' %}" type="text/css">
{% endblock %}

{% block extra_js %}
    <script src="{% static 'wagtailadmin/js/vendor/jquery.ba-throttle-debounce.min.js' %}"></script>
    <script src="{% static 'wagtailimages/js/vendor/jquery.Jcrop.min.js' %}"></script>
    <script src="{% static 'wagtailimages/js/contextual-focal-point-chooser.js' %}"></script>
{% endblock %}

<div id="{{prefix}}-image-container" class="{{ classname }}">
    {% if help_text %}
        <div class="sequence-member__help help"><span class="icon-help-inverse" aria-hidden="true"></span>{{ help_text }}</div>
    {% endif %}

    <ul class="fields">
        {% for child in children.values %}
            {% if child.block.meta.group != "hidden-input" %}
                <li {% if child.block.required %} class="required" {% endif %}>
                    {% if child.block.label %}
                        <label{% if child.id_for_label %} for="{{ child.id_for_label }}"{% endif %}>{{ child.block.label }}:</label>
                    {% endif %}
                    {{ child.render_form }}
                </li>
            {% endif %}
        {% endfor %}
    </ul>
    {% for child in children.values %}
        {% if child.block.meta.group == "hidden-input" %}
        {# doing this rather than using forms.HiddenInput as widget type because we're using a structblock which adds a label and creating a core custom type means handling deconstruction etc #}
        <input type="hidden" id="{{prefix}}-{{child.block.label}}" class="{{child.block.label}}", name="{{prefix}}-{{child.block.label}}" value="{{child.value|default_if_none:''}}">
        {% endif %}
    {% endfor %}
</div>
{# HT END #}